import{r as s,a as F,R as V,F as fe}from"./app.25d4f07c.js";import{s as z,u as x,m as _,p as Q,a as $,S as pe,C as G,y as X,j as w,b as Y,o as R,c as he,d as H,$ as Z,e as ee}from"./open-closed.f4f7f2c0.js";function te(){let e=s.exports.useRef(!1);return z(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ve(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function k(e,...t){e&&t.length>0&&e.classList.add(...t)}function B(e,...t){e&&t.length>0&&e.classList.remove(...t)}var W=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(W||{});function me(e,t){let n=_();if(!e)return n.dispose;let{transitionDuration:l,transitionDelay:f}=getComputedStyle(e),[m,p]=[l,f].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(i=>i.includes("ms")?parseFloat(i):parseFloat(i)*1e3).sort((i,a)=>a-i);return u});if(m+p!==0){let o=[];o.push(n.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&(o.splice(0).forEach(i=>i()),o.push(n.addEventListener(e,"transitionend",i=>{i.target===i.currentTarget&&(t("ended"),o.splice(0).forEach(a=>a()))}),n.addEventListener(e,"transitioncancel",i=>{i.target===i.currentTarget&&(t("cancelled"),o.splice(0).forEach(a=>a()))})))}))}else t("ended");return n.add(()=>t("cancelled")),n.dispose}function xe(e,t,n,l){let f=n?"enter":"leave",m=_(),p=l!==void 0?ve(l):()=>{};f==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let o=x(f,{enter:()=>t.enter,leave:()=>t.leave}),u=x(f,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),i=x(f,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return B(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),k(e,...o,...i),m.nextFrame(()=>{B(e,...i),k(e,...u),me(e,a=>(a==="ended"&&(B(e,...o),k(e,...t.entered)),p(a)))}),m.dispose}function be({container:e,direction:t,classes:n,onStart:l,onStop:f}){let m=te(),p=Q(),o=$(t);z(()=>{let u=_();p.add(u.dispose);let i=e.current;if(!!i&&o.current!=="idle"&&!!m.current)return u.dispose(),l.current(o.current),u.add(xe(i,n.current,o.current==="enter",a=>{u.dispose(),x(a,{[W.Ended](){f.current(o.current)},[W.Cancelled]:()=>{}})})),u.dispose},[t])}function S(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let j=s.exports.createContext(null);j.displayName="TransitionContext";var ge=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ge||{});function Ee(){let e=s.exports.useContext(j);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Te(){let e=s.exports.useContext(A);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let A=s.exports.createContext(null);A.displayName="NestingContext";function M(e){return"children"in e?M(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function re(e,t){let n=$(e),l=s.exports.useRef([]),f=te(),m=Q(),p=R((c,r=w.Hidden)=>{let h=l.current.findIndex(({el:d})=>d===c);h!==-1&&(x(r,{[w.Unmount](){l.current.splice(h,1)},[w.Hidden](){l.current[h].state="hidden"}}),m.microTask(()=>{var d;!M(l)&&f.current&&((d=n.current)==null||d.call(n))}))}),o=R(c=>{let r=l.current.find(({el:h})=>h===c);return r?r.state!=="visible"&&(r.state="visible"):l.current.push({el:c,state:"visible"}),()=>p(c,w.Unmount)}),u=s.exports.useRef([]),i=s.exports.useRef(Promise.resolve()),a=s.exports.useRef({enter:[],leave:[],idle:[]}),b=R((c,r,h)=>{u.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([d])=>d!==c)),t==null||t.chains.current[r].push([c,new Promise(d=>{u.current.push(d)})]),t==null||t.chains.current[r].push([c,new Promise(d=>{Promise.all(a.current[r].map(([v,E])=>E)).then(()=>d())})]),r==="enter"?i.current=i.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(r)):h(r)}),g=R((c,r,h)=>{Promise.all(a.current[r].splice(0).map(([d,v])=>v)).then(()=>{var d;(d=u.current.shift())==null||d()}).then(()=>h(r))});return s.exports.useMemo(()=>({children:l,register:o,unregister:p,onStart:b,onStop:g,wait:i,chains:a}),[o,p,l,b,g,a,i])}function Ce(){}let we=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function K(e){var t;let n={};for(let l of we)n[l]=(t=e[l])!=null?t:Ce;return n}function Se(e){let t=s.exports.useRef(K(e));return s.exports.useEffect(()=>{t.current=K(e)},[e]),t}let Re="div",ne=pe.RenderStrategy,ie=G(function(e,t){let{beforeEnter:n,afterEnter:l,beforeLeave:f,afterLeave:m,enter:p,enterFrom:o,enterTo:u,entered:i,leave:a,leaveFrom:b,leaveTo:g,...c}=e,r=s.exports.useRef(null),h=X(r,t),d=c.unmount?w.Unmount:w.Hidden,{show:v,appear:E,initial:se}=Ee(),[T,N]=s.exports.useState(v?"visible":"hidden"),J=Te(),{register:P,unregister:L}=J,O=s.exports.useRef(null);s.exports.useEffect(()=>P(r),[P,r]),s.exports.useEffect(()=>{if(d===w.Hidden&&!!r.current){if(v&&T!=="visible"){N("visible");return}return x(T,{hidden:()=>L(r),visible:()=>P(r)})}},[T,r,P,L,v,d]);let le=$({enter:S(p),enterFrom:S(o),enterTo:S(u),entered:S(i),leave:S(a),leaveFrom:S(b),leaveTo:S(g)}),y=Se({beforeEnter:n,afterEnter:l,beforeLeave:f,afterLeave:m}),U=Y();s.exports.useEffect(()=>{if(U&&T==="visible"&&r.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[r,T,U]);let I=se&&!E,oe=(()=>!U||I||O.current===v?"idle":v?"enter":"leave")(),ae=R(C=>x(C,{enter:()=>y.current.beforeEnter(),leave:()=>y.current.beforeLeave(),idle:()=>{}})),ue=R(C=>x(C,{enter:()=>y.current.afterEnter(),leave:()=>y.current.afterLeave(),idle:()=>{}})),D=re(()=>{N("hidden"),L(r)},J);be({container:r,classes:le,direction:oe,onStart:$(C=>{D.onStart(r,C,ae)}),onStop:$(C=>{D.onStop(r,C,ue),C==="leave"&&!M(D)&&(N("hidden"),L(r))})}),s.exports.useEffect(()=>{!I||(d===w.Hidden?O.current=null:O.current=v)},[v,I,T]);let de=c,ce={ref:h};return F(A.Provider,{value:D,children:F(he,{value:x(T,{visible:H.Open,hidden:H.Closed}),children:Z({ourProps:ce,theirProps:de,defaultTag:Re,features:ne,visible:T==="visible",name:"Transition.Child"})})})}),q=G(function(e,t){let{show:n,appear:l=!1,unmount:f,...m}=e,p=s.exports.useRef(null),o=X(p,t);Y();let u=ee();if(n===void 0&&u!==null&&(n=x(u,{[H.Open]:!0,[H.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[i,a]=s.exports.useState(n?"visible":"hidden"),b=re(()=>{a("hidden")}),[g,c]=s.exports.useState(!0),r=s.exports.useRef([n]);z(()=>{g!==!1&&r.current[r.current.length-1]!==n&&(r.current.push(n),c(!1))},[r,n]);let h=s.exports.useMemo(()=>({show:n,appear:l,initial:g}),[n,l,g]);s.exports.useEffect(()=>{if(n)a("visible");else if(!M(b))a("hidden");else{let v=p.current;if(!v)return;let E=v.getBoundingClientRect();E.x===0&&E.y===0&&E.width===0&&E.height===0&&a("hidden")}},[n,b]);let d={unmount:f};return F(A.Provider,{value:b,children:F(j.Provider,{value:h,children:Z({ourProps:{...d,as:s.exports.Fragment,children:V.createElement(ie,{ref:o,...d,...m})},theirProps:{},defaultTag:s.exports.Fragment,features:ne,visible:i==="visible",name:"Transition"})})})}),$e=G(function(e,t){let n=s.exports.useContext(j)!==null,l=ee()!==null;return F(fe,{children:!n&&l?V.createElement(q,{ref:t,...e}):V.createElement(ie,{ref:t,...e})})}),Le=Object.assign(q,{Child:$e,Root:q});export{Le as W};
